(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.vff=t():e.vff=t()})('undefined'==typeof self?this:self,function(){var e=Math.min,t=Math.floor;return function(e){function t(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(r,'a',r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=69)}([function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)},function(e,t,r){var o=r(36)('wks'),a=r(25),n=r(0).Symbol,l='function'==typeof n,s=e.exports=function(e){return o[e]||(o[e]=l&&n[e]||(l?n:a)('Symbol.'+e))};s.store=o},function(e){'use strict';e.exports={READY:'taco-ready',GO:'taco-go',CROP:'vff-crop',TRANSFORM:'vff-transform',UPLOAD:'vff-upload-asset',AUDIO_TRACK:'vff-audio-track',NEXT:'taco-next',PREV:'taco-previous',ADD:'taco-addtemplate',UPDATE:'taco-update',PAGES:'taco-pages',USER_UPDATE:'taco-user-update',QUERY_PARAMS:'taco-query-params',OUTGOING_EVENT:'taco-event-sent',VFF_EVENT:'taco-event-received',ACK:'taco-ack',TRACK_EVENT:'vff-track-event',RELOAD:'vff-reload',VF_DATA:'vff-vf-data',VF_SETUP:'vff-vf-setup',DATA_READY:'vff-data-ready',CUSTOM_READY:'vff-custom-ready',PLAYER_STATUS:'vff-player-status',VIDEO_PLAYING:'vff-video-playing',VIDEO_STARTED:'vff-video-started',VIDEO_PAUSED:'vff-video-paused',VIDEO_TIME_UPDATE:'vff-time-update',DEVICE_CHANGE:'vff-device-change',INTERACTION:'vff-interaction',TOUCH:'taco-touch-element',MOUSE_MOVE:'taco-mouse-move',BUBBLE_UP:'taco-bubble-up',PAGES_UPDATE:'vff-pages-update'}},function(e,r,o){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){for(var r=Object.keys(e),o=0;o<r.length;o++)if(r[o].toLowerCase()===t.toLowerCase())return r[o]}function l(e,t){return void 0===t&&(t='\\s'),e.replace(new RegExp('^['+t+']+'),'').replace(new RegExp('['+t+']+$'),'')}function s(e){return e===Object(e)&&!Array.isArray(e)&&!(e instanceof HTMLElement)}function i(e,t){for(var r in t)t[r]&&s(t[r])?(e[r]=e[r]&&s(e[r])?e[r]:{},i(e[r],t[r])):e[r]=t[r];return e}function d(e){return e&&e.toLowerCase?e.toLowerCase():e}function u(e,t,r){r=Object.assign({},y,r||{});var o=[];return e.forEach(function(e){var a=!0;for(var l in t)r.insensitive&&d(t[l])!==d(e[n(e,l)])?a=!1:r.insensitive||t[l]===e[l]||(a=!1);a&&o.push(e)}),o}function p(e){var t=e.shadowRoot,r=Array.from(e.children||[]);return t&&(r=r.concat(Array.from(t.children||[]))),r}function c(e,t,r,o){if(t.hasAttribute&&t.hasAttribute(r)&&(void 0===o||t.getAttribute(r).replace(/\[/g,'.').replace(/\]/g,'.').replace(/\.\./g,'.').replace(/\.$/,'')===o)&&e.push(t),!t.shadowRoot&&(!t.children||!t.children.length))return e;for(var a=p(t),n=0;n<a.length;n++)c(e,a[n],r,o);return e}function f(){}var g=o(71),_=a(g),m=o(17),E=a(m),y={insensitive:!1};e.exports={findKey:n,trim:l,getByPath:function(e,t){t=t?l(t,'.').split('.'):[''];for(var r=e,o=0;o<t.length;o++)if(r=r[t[o]],void 0===r)return r;return r},setByPath:function(e,t,r){if(3!==arguments.length)throw new Error('Missing Arguments!');t=t?l(t,'.').split('.'):[''];for(var o=e,a=0;a<t.length;a++)if(a===t.length-1)o[t[a]]=r;else if(void 0!==o[t[a]])o=o[t[a]];else return},camelize:function(e){return e.replace(/\s(.)/g,function(e){return e.toUpperCase()}).replace(/\s/g,'').replace(/^(.)/,function(e){return e.toLowerCase()})},decamelize:function(e){return e.replace(/([A-Z])/g,' $1').trim()},uuid:function(){function e(){return t(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()},extend:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},deepExtend:i,deepCompare:function(){function e(t,r){if(isNaN(t)&&isNaN(r)&&'number'==typeof t&&'number'==typeof r)return!0;if(t===r)return!0;if('function'==typeof t&&'function'==typeof r||t instanceof Date&&r instanceof Date||t instanceof RegExp&&r instanceof RegExp||t instanceof String&&r instanceof String||t instanceof Number&&r instanceof Number)return t.toString()===r.toString();if(!(t instanceof Object&&r instanceof Object))return!1;if(t.isPrototypeOf(r)||r.isPrototypeOf(t))return!1;if(t.constructor!==r.constructor)return!1;if(t.prototype!==r.prototype)return!1;if(t instanceof Array&&r instanceof Array&&t.length!==r.length)return!1;if(-1<o.indexOf(t)||-1<a.indexOf(r))return!1;for(var n in t)if(!n.startsWith('_')){if(r.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if((0,E.default)(r[n])!==(0,E.default)(t[n]))return!1;switch((0,E.default)(t[n])){case'object':case'function':if(o.push(t),a.push(r),!e(t[n],r[n]))return!1;o.pop(),a.pop();break;default:if(t[n]!==r[n])return!1;}}return!0}var t,r,o,a;if(1>arguments.length)return!0;for(t=1,r=arguments.length;t<r;t++)if(o=[],a=[],!e(arguments[0],arguments[t]))return!1;return!0},isMobile:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|Tablet|iPad|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}(),isController:function(){try{return window.frameElement.ownerDocument.defaultView.frameElement.hasAttribute('controller')}catch(e){return!1}}(),docRef:function(e){return'https://www.videoflow.io/documentation/api/vff?id='+e},broadcast:function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},on:function(e,t){document.addEventListener(e,function(r){t(r.detail)})},off:function(e,t){document.removeEventListener(e,t)},defer:function(){var e=f,t=f,r=new Promise(function(r,o){e=r,t=o});return{promise:r,resolve:e,reject:t}},noop:f,query:u,queryOne:function(e,t,r){var o=u(e,t,r);return o.length?o[0]:void 0},filter:function(e,t){var r=[];return e.forEach(function(e){t(e)&&r.push(e)}),r},getQueryParams:function(e){var t=e||location.href.split('?')[1]||location.search.substring(1);try{return JSON.parse('{"'+t.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,t){return''===e?t:decodeURIComponent(t)})}catch(e){return{}}},parseRJSON:function(e){return JSON.parse(e.replace(/:\s*"([^"]*)"/g,function(e,t){return': "'+t.replace(/:/g,'@colon@')+'"'}).replace(/'/g,'"').replace(/:\s*'([^']*)'/g,function(e,t){return': "'+t.replace(/:/g,'@colon@')+'"'}).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,':'))},isFunction:function(e){return!!e&&'[object Function]'==={}.toString.call(e)},isObject:s,overlaod:function(e,t,r){var o=e[t];e[t]=o?function(){return r.length==arguments.length?r.apply(this,arguments):'function'==typeof o?o.apply(this,arguments):void 0}:r},searchAttribute:function(e,t,r){return Array.isArray(e)?[].concat((0,_.default)(new Set(e.map(function(e){return c([],r||document,e,t)}).flat()))):c([],r||document,e,t)}}},function(e){var t=e.exports={version:'2.6.2'};'number'==typeof __e&&(__e=t)},function(e,t,r){'use strict';(function(t){function o(e){var r=n||t.window;r&&r.parent&&r.parent.postMessage(JSON.stringify(e),'*')}var a=r(3),n=n||t.window;e.exports={send:function(e,t){o({type:e,payload:t})},request:function(e,t,r){var l=(0,a.uuid)();t._rid=l;var s,i=function(e){e=JSON.parse(e.data),e.payload&&e.payload._rid===l&&(d(),r(e))},d=function(){clearTimeout(s),n.removeEventListener('message',i,!1)};n.addEventListener('message',i,!1),s=setTimeout(function(){d()},2e4),o({type:e,payload:t})}}}).call(t,r(70))},function(e,t,r){var o=r(7),a=r(48),n=r(32),l=Object.defineProperty;t.f=r(9)?Object.defineProperty:function(e,t,r){if(o(e),t=n(t,!0),o(r),a)try{return l(e,t,r)}catch(t){}if('get'in r||'set'in r)throw TypeError('Accessors not supported!');return'value'in r&&(e[t]=r.value),e}},function(e,t,r){var o=r(12);e.exports=function(e){if(!o(e))throw TypeError(e+' is not an object!');return e}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.vffData=void 0;var a=r(17),n=o(a),l=r(28),s=o(l),i=r(43),d=o(i),u=r(2),p=r(3),c=r(5),f=r(101),g=r(14),_=r(14),m=r(102),y=o(m),E=r(62),h=o(E),v={throttle:!0,changeOnly:!0},T=function(){function e(){(0,s.default)(this,e),this._controls=[],this._pages=[],this._pagesDefer=(0,p.defer)(),this._listeners={},this._readyCallbacks=[],this._timeouts=new WeakMap,this._eventQueue={},this._nameMap={}}return(0,d.default)(e,[{key:'_addToNameMap',value:function(e){this._nameMap[e]=e,this._nameMap[e.toLowerCase()]=e}},{key:'_getFromNameMap',value:function(e){return this._nameMap[e]||e}},{key:'registerControl',value:function(e,t,r){if(2>arguments.length)throw new Error('Missing Arguments, please refer to: '+(0,p.docRef)(f.REGISTER_TEMPLATE));var o=new y.default(e,t,r),a=(0,p.queryOne)(this._controls,{_group:o.getGroup(),_name:o.getName()},{insensitive:!0});return a?a.updateValue(t,r):(this._addToNameMap(o.getGroup()),this._controls.push(o)),(0,c.send)(u.ADD,{channel:o.getGroup(),options:o.getOptions(),data:o.getValueObject()}),o}},{key:'registerController',value:function(e){return this._controller=this._controller||new y.default('controller.main',{},{ui:{type:'custom',url:e}}),this._controls.push(this._controller),(0,c.send)(u.ADD,{channel:this._controller.getGroup(),options:this._controller.getOptions(),data:this._controller.getValueObject()}),this._controller}},{key:'updateController',value:function(e,t){this._controller&&this._controller.updateValue(e,t)}},{key:'getControllerData',value:function(){return this._controller?this._controller.getValue():{}}},{key:'registerControls',value:function(e,t,r){var o=this;for(var a in(0,p.isObject)(e)&&(r=t||{},t=e,e=r.group||g.DEFAULT_GROUP_NAME),t)if(t.hasOwnProperty(a)){var l=t[a],s=Object.assign({},r);s.group=s.group||e,'object'===('undefined'==typeof l?'undefined':(0,n.default)(l))&&l.ui&&(s.ui=l.ui,l=void 0===l.value?l.ui.value:l.value),this.registerControl(a,l,s)}return{on:function(){var t=e;return function(e,r,a){(0,p.isFunction)(e)&&(a=r,r=e,e='');var n=e?t+'.'+e:t;o.on(n,r,a)}}()}}},{key:'_updateControl',value:function(e,t,r){var o=this.getControl(e);return o?(r&&r.timecode&&(o.timecode=r.timecode),o._setValue(t)):Promise.resolve({controlChange:!0})}},{key:'updateControl',value:function(e,t,r){var o=this.getControl(e);if(o)return o.updateValue(t,r)}},{key:'getControl',value:function(e){if(!e)throw new Error('Missing Arguments, please refer to: '+(0,p.docRef)(f.REGISTER_TEMPLATE));var t=e.split(_.NAMESPACE_DELIMITER);return 1<t.length?(0,p.queryOne)(this._controls,{_name:t[t.length-1],_group:t.slice(0,-1).join(_.NAMESPACE_DELIMITER)},{insensitive:!0}):(0,p.queryOne)(this._controls,{_name:e},{insensitive:!0})}},{key:'getControls',value:function(e){if(!e)return this._controls;var t=e.split(_.NAMESPACE_DELIMITER);if(1<t.length)return(0,p.query)(this._controls,{_name:t[t.length-1],_group:t.slice(0,-1).join(_.NAMESPACE_DELIMITER)},{insensitive:!0});var r=(0,p.query)(this._controls,{_group:t[0]},{insensitive:!0});return r.length||(r=(0,p.query)(this._controls,{_name:t[0]},{insensitive:!0})),r}},{key:'getControlsData',value:function(e,t){var r={},o=this.getControls(e);if(o.forEach(function(t){var o=t.getNamespace().substr(e.length);o.startsWith(_.NAMESPACE_DELIMITER)&&(o=o.substr(1)),o?r[o]=t.getValue():r=t.getValue()}),e)return-1<e.indexOf(_.NAMESPACE_DELIMITER)?o.length?r:t:Object.assign({},t,r);for(var a in t)for(var n in t[a]){var l=(0,p.findKey)(r,a+_.NAMESPACE_DELIMITER+n);l||(r[this._getFromNameMap(a)+_.NAMESPACE_DELIMITER+n]=t[a][n])}return r}},{key:'on',value:function(e,t,r){var o=this;(0,p.isFunction)(e)&&(r=t,t=e,e=''),r=Object.assign({},v,r||{}),(0,p.on)(u.VFF_EVENT+e.toLowerCase(),function(a){(!r.changeOnly||a.dataChanged)&&o._runCallback(t,r,new h.default({timecode:a.timecode,changed:a.dataChanged,data:o.getControlsData(e,a.data),namespace:e}))})}},{key:'onController',value:function(e,t,r){var o=this;(0,p.isFunction)(e)&&(r=t,t=e,e=''),r=Object.assign({},v,r||{}),(0,p.on)(u.VFF_EVENT+'controller.main',function(a){if(a.data.value&&(a.data.value[e]||(0,p.getByPath)(a.data.value,e)||!e)){var n=!a.oldValue||!(0,p.deepCompare)((0,p.getByPath)(a.data.value,e),(0,p.getByPath)(a.oldValue,e));(!r.changeOnly||n)&&o._runCallback(t,r,new h.default({timecode:a.timecode,changed:n,data:e?(0,p.getByPath)(a.data.value,e):a.data.value,namespace:e}))}})}},{key:'before',value:function(){}},{key:'emit',value:function(){}},{key:'addPages',value:function(e){if(e&&e.length){for(;this._pages.length;)this._pages.pop();this._pages=this._pages.concat(e),this._pagesDefer.resolve(e),(0,p.broadcast)(u.PAGES_UPDATE,this._pages)}}},{key:'getPages',value:function(){return this._pagesDefer.promise}},{key:'onPages',value:function(e){this._pages.length&&e(this._pages),(0,p.on)(u.PAGES_UPDATE,function(t){e(t.detail)})}},{key:'addQueryParams',value:function(e){this._queryParams=e}},{key:'getQueryParams',value:function(){return this._queryParams}},{key:'clear',value:function(){this._controls=[],this._listeners={},this._timeouts=new WeakMap,this._eventQueue={}}},{key:'_runCallback',value:function(e,t){for(var r=arguments.length,o=Array(2<r?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var n=this;t.consolidate||t.throttle?(clearTimeout(this._timeouts.get(e)),o.forEach(function(e){var t=n._eventQueue[e.namespace]||[];t.push(e),n._eventQueue[e.namespace]=t}),this._timeouts.set(e,setTimeout(function(){function t(e,r){if(!e.length)return r;var o=e.shift();return(0,p.isObject)(o.data)&&(0,p.isObject)(r)?Object.assign(r,o.data):r=o.data,t(e,r)}o.forEach(function(r){if(!(0,p.isObject)(r.data))n._eventQueue[r.namespace]=[];else{var o=n._eventQueue[r.namespace],a=t(o,{});r.data=Object.assign(a,r.data)}e(r)})},'number'==typeof t.throttle?t.throttle:50))):e.apply(void 0,o)}},{key:'_runMiddleware',value:function(e,t){var r=this;return e.reduce(function(e,t){return e.then(function(e){var o=(0,p.defer)();return r._runCallback(t.fn,t.options,e,o.resolve),o.promise})},Promise.resolve(t))}},{key:'ready',value:function(e){this._readyCallbacks.push(e)}},{key:'onReady',value:function(){this._readyCallbacks.forEach(function(e){e()})}}]),e}(),A=t.vffData=new T},function(e,t,r){e.exports=!r(24)(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a})},function(e,t,r){var o=r(0),a=r(4),n=r(20),l=r(11),s=r(13),i='prototype',d=function(e,t,r){var u,p,c,f=e&d.F,g=e&d.G,_=e&d.S,m=e&d.P,y=e&d.B,E=e&d.W,h=g?a:a[t]||(a[t]={}),v=h[i],T=g?o:_?o[t]:(o[t]||{})[i];for(u in g&&(r=t),r)p=!f&&T&&void 0!==T[u],p&&s(h,u)||(c=p?T[u]:r[u],h[u]=g&&'function'!=typeof T[u]?r[u]:y&&p?n(c,o):E&&T[u]==c?function(e){var t=function(t,r,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r);}return new e(t,r,o)}return e.apply(this,arguments)};return t[i]=e[i],t}(c):m&&'function'==typeof c?n(Function.call,c):c,m&&((h.virtual||(h.virtual={}))[u]=c,e&d.R&&v&&!v[u]&&l(v,u,c)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t,r){var o=r(6),a=r(21);e.exports=r(9)?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e){e.exports=function(e){return'object'==typeof e?null!==e:'function'==typeof e}},function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e){'use strict';e.exports={EXPOSE_DELIMITER:' ',NAMESPACE_DELIMITER:'.',DEFAULT_GROUP_NAME:'untitled template',TIMECODE:'__timecode__',UI:{MULTISELECT:'multiselect',DROPDOWN:'dropdown',RADIO:'radio',RANGE:'range'},ATTRIBUTE:{CONTROL:'vff-control',BIND:'vff-bind',OPTIONS:'vff-options',EXPOSE:'vff-expose',CONTROLLER:'vff-controller',DATA:'vff-data',STYLE:'vff-style',SELECTION:'vff-select-from',SUFFIX:'vff-suffix'},MODE:{NORMAL:'normal',PREVIEW:'controller-preview',PROGRAM:'controller-program'}}},function(e){e.exports={}},function(e,t,r){var o=r(77),a=r(30);e.exports=function(e){return o(a(e))}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(83),n=o(a),l=r(88),s=o(l),i='function'==typeof s.default&&'symbol'==typeof n.default?function(e){return typeof e}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':typeof e};t.default='function'==typeof s.default&&'symbol'===i(n.default)?function(e){return'undefined'==typeof e?'undefined':i(e)}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':'undefined'==typeof e?'undefined':i(e)}},function(e,t,r){'use strict';var o=r(74)(!0);r(47)(String,'String',function(e){this._t=e+'',this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=o(t,r),this._i+=e.length,{value:e,done:!1})})},function(e){e.exports=!0},function(e,t,r){var o=r(23);e.exports=function(e,t,r){return(o(e),void 0===t)?e:1===r?function(r){return e.call(t,r)}:2===r?function(r,o){return e.call(t,r,o)}:3===r?function(r,o,a){return e.call(t,r,o,a)}:function(){return e.apply(t,arguments)}}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e){var t=0,r=Math.random();e.exports=function(e){return'Symbol('.concat(e===void 0?'':e,')_',(++t+r).toString(36))}},function(e,t,r){var o=r(6).f,a=r(13),n=r(1)('toStringTag');e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,n)&&o(e,n,{configurable:!0,value:t})}},function(e,t,r){r(85);for(var o=r(0),a=r(11),n=r(15),l=r(1)('toStringTag'),s='CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'.split(','),d=0;d<s.length;d++){var i=s[d],u=o[i],p=u&&u.prototype;p&&!p[l]&&a(p,l,i),n[i]=n.Array}},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}},function(e){var r=Math.ceil;e.exports=function(e){return isNaN(e=+e)?0:(0<e?t:r)(e)}},function(e){e.exports=function(e){if(e==void 0)throw TypeError('Can\'t call method on  '+e);return e}},function(e,t,r){var o=r(12),a=r(0).document,n=o(a)&&o(a.createElement);e.exports=function(e){return n?a.createElement(e):{}}},function(e,t,r){var o=r(12);e.exports=function(e,t){if(!o(e))return e;var r,a;if(t&&'function'==typeof(r=e.toString)&&!o(a=r.call(e)))return a;if('function'==typeof(r=e.valueOf)&&!o(a=r.call(e)))return a;if(!t&&'function'==typeof(r=e.toString)&&!o(a=r.call(e)))return a;throw TypeError('Can\'t convert object to primitive value')}},function(e,t,r){var o=r(51),a=r(37);e.exports=Object.keys||function(e){return o(e,a)}},function(t,r,o){var a=o(29);t.exports=function(t){return 0<t?e(a(t),9007199254740991):0}},function(e,t,r){var o=r(36)('keys'),a=r(25);e.exports=function(e){return o[e]||(o[e]=a(e))}},function(e,t,r){var o=r(4),a=r(0),n='__core-js_shared__',l=a[n]||(a[n]={});(e.exports=function(e,t){return l[e]||(l[e]=t===void 0?{}:t)})('versions',[]).push({version:o.version,mode:r(19)?'pure':'global',copyright:'\xA9 2019 Denis Pushkarev (zloirock.ru)'})},function(e){e.exports=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf']},function(e,t,r){var o=r(39),a=r(1)('iterator'),n=r(15);e.exports=r(4).getIteratorMethod=function(e){if(e!=void 0)return e[a]||e['@@iterator']||n[o(e)]}},function(e,t,r){var o=r(22),a=r(1)('toStringTag'),n='Arguments'==o(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(t){}};e.exports=function(e){var t,r,s;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(r=l(t=Object(e),a))?r:n?o(t):'Object'==(s=o(t))&&'function'==typeof t.callee?'Arguments':s}},function(e,t,r){t.f=r(1)},function(e,t,r){var o=r(0),a=r(4),n=r(19),l=r(40),s=r(6).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=n?{}:o.Symbol||{});'_'==e.charAt(0)||e in t||s(t,e,{value:l.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){'use strict';t.__esModule=!0;var o=r(60),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){function e(e,t){for(var r,o=0;o<t.length;o++)r=t[o],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}()},function(e,t,r){e.exports=r(113)},function(e,t,r){'use strict';t.__esModule=!0;var o=r(115),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,r){function o(n,l){try{var s=t[n](l),i=s.value}catch(e){return void r(e)}return s.done?void e(i):a.default.resolve(i).then(function(e){o('next',e)},function(e){o('throw',e)})}return o('next')})}}},function(e,t,r){'use strict';function o(e){var t,r;this.promise=new e(function(e,o){if(t!==void 0||r!==void 0)throw TypeError('Bad Promise constructor');t=e,r=o}),this.resolve=a(t),this.reject=a(r)}var a=r(23);e.exports.f=function(e){return new o(e)}},function(e,t,r){'use strict';var o=r(19),a=r(10),n=r(49),l=r(11),s=r(15),i=r(75),d=r(26),u=r(80),p=r(1)('iterator'),c=!([].keys&&'next'in[].keys()),f='keys',g='values',_=function(){return this};e.exports=function(e,t,r,m,y,E,h){i(r,t,m);var v,T,A,b=function(e){return!c&&e in R?R[e]:e===f?function(){return new r(this,e)}:e===g?function(){return new r(this,e)}:function(){return new r(this,e)}},O=t+' Iterator',P=y==g,x=!1,R=e.prototype,S=R[p]||R['@@iterator']||y&&R[y],I=S||b(y),L=y?P?b('entries'):I:void 0,D='Array'==t?R.entries||S:S;if(D&&(A=u(D.call(new e)),A!==Object.prototype&&A.next&&(d(A,O,!0),!o&&'function'!=typeof A[p]&&l(A,p,_))),P&&S&&S.name!==g&&(x=!0,I=function(){return S.call(this)}),(!o||h)&&(c||x||!R[p])&&l(R,p,I),s[t]=I,s[O]=_,y)if(v={values:P?I:b(g),keys:E?I:b(f),entries:L},h)for(T in v)T in R||n(R,T,v[T]);else a(a.P+a.F*(c||x),t,v);return v}},function(e,t,r){e.exports=!r(9)&&!r(24)(function(){return 7!=Object.defineProperty(r(31)('div'),'a',{get:function(){return 7}}).a})},function(e,t,r){e.exports=r(11)},function(e,t,r){var o=r(7),a=r(76),n=r(37),l=r(35)('IE_PROTO'),s=function(){},d='prototype',u=function(){var e,t=r(31)('iframe'),o=n.length,a='<',l='>';for(t.style.display='none',r(52).appendChild(t),t.src='javascript:',e=t.contentWindow.document,e.open(),e.write(a+'script'+l+'document.F=Object'+a+'/script'+l),e.close(),u=e.F;o--;)delete u[d][n[o]];return u()};e.exports=Object.create||function(e,t){var r;return null===e?r=u():(s[d]=o(e),r=new s,s[d]=null,r[l]=e),void 0===t?r:a(r,t)}},function(e,t,r){var o=r(13),a=r(16),n=r(78)(!1),l=r(35)('IE_PROTO');e.exports=function(e,t){var r,s=a(e),d=0,i=[];for(r in s)r!=l&&o(s,r)&&i.push(r);for(;t.length>d;)o(s,r=t[d++])&&(~n(i,r)||i.push(r));return i}},function(e,t,r){var o=r(0).document;e.exports=o&&o.documentElement},function(e,t,r){var o=r(30);e.exports=function(e){return Object(o(e))}},function(e,t,r){var o=r(7);e.exports=function(t,e,r,a){try{return a?e(o(r)[0],r[1]):e(r)}catch(r){var n=t['return'];throw void 0!==n&&o(n.call(t)),r}}},function(e,t,r){var o=r(15),a=r(1)('iterator'),n=Array.prototype;e.exports=function(e){return e!==void 0&&(o.Array===e||n[a]===e)}},function(e,t,r){var o=r(1)('iterator'),a=!1;try{var n=[7][o]();n['return']=function(){a=!0},Array.from(n,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n=[7],l=n[o]();l.next=function(){return{done:r=!0}},n[o]=function(){return l},e(n)}catch(t){}return r}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var o=r(51),a=r(37).concat('length','prototype');t.f=Object.getOwnPropertyNames||function(e){return o(e,a)}},function(){},function(e,t,r){e.exports={default:r(99),__esModule:!0}},function(e,t,r){'use strict';t.__esModule=!0;var o=r(60),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,r){return t in e?(0,a.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=r(28),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function e(t){(0,a.default)(this,e),Object.assign(this,t)}},function(e,t,r){var o=r(7),a=r(23),n=r(1)('species');e.exports=function(e,t){var r,l=o(e).constructor;return l===void 0||(r=o(l)[n])==void 0?t:a(r)}},function(e,t,r){var o,a,n,l=r(20),s=r(120),i=r(52),d=r(31),u=r(0),p=u.process,c=u.setImmediate,f=u.clearImmediate,g=u.MessageChannel,_=u.Dispatch,m=0,y={},E='onreadystatechange',h=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},v=function(e){h.call(e.data)};c&&f||(c=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++m]=function(){s('function'==typeof e?e:Function(e),t)},o(m),m},f=function(e){delete y[e]},'process'==r(22)(p)?o=function(e){p.nextTick(l(h,e,1))}:_&&_.now?o=function(e){_.now(l(h,e,1))}:g?(a=new g,n=a.port2,a.port1.onmessage=v,o=l(n.postMessage,n,1)):u.addEventListener&&'function'==typeof postMessage&&!u.importScripts?(o=function(e){u.postMessage(e+'','*')},u.addEventListener('message',v,!1)):E in d('script')?o=function(e){i.appendChild(d('script'))[E]=function(){i.removeChild(this),h.call(e)}}:o=function(e){setTimeout(l(h,e,1),0)}),e.exports={set:c,clear:f}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,r){var o=r(7),a=r(12),n=r(46);e.exports=function(e,t){if(o(e),a(t)&&t.constructor===e)return t;var r=n.f(e),l=r.resolve;return l(t),r.promise}},function(e,t,r){'use strict';function o(e){if(!e)return e;for(var t=[],r=0;r<e.length;r++){var o=e[r],a={clientX:o.clientX,clientY:o.clientY,pageX:o.pageX,pageY:o.pageY};t.push(a)}return t}function a(t){if(!(t.ctrlKey&&t.metaKey&&t.altKey&&t.shiftKey)){var e={};e['__'+t.type+'__']={pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,deltaX:t.deltaX,deltaY:t.deltaY,deltaZ:t.deltaZ,deltaMode:t.deltaMode,target:(0,i.createXPathFromElement)(t.target),touches:o(t.touches),targetTouches:o(t.targetTouches),changedTouches:o(t.changedTouches)},(0,d.send)(u.INTERACTION,e)}}function n(e){p.forEach(function(t){t=t.replace(/__/g,''),e.addEventListener(t,a,!0)})}function l(e,t){return e.changedTouches=s(e.changedTouches,t),e.targetTouches=s(e.targetTouches,t),e.touches=s(e.touches,t),e}function s(e,t){return e.map(function(e){return e.identifier=Date.now(),e.target=t,new Touch(e)})}var i=r(127),d=r(5),u=r(2),p=['__mouseup__','__mousedown__','__mousemove__','__mouseover__','__mouseout__','__mouseenter__','__mouseleave__','__click__','__dblclick__','__touchstart__','__touchend__','__touchmove__','__drag__','__dragstart__','__dragend__','__dragover__','__dragenter__','__dragleave__','__dragexit__','__drop__','__wheel__'];window.addEventListener('load',function(){n(window)}),e.exports={sync:a,events:p,bindSyncEvents:n,isInteractionEvent:function(e){return-1<p.indexOf(e)},dispatchEvent:function(e,t){var r;r=-1<['__click__'].indexOf(e)?document.elementFromPoint(t.pageX,t.pageY):(0,i.lookupElementByXPath)(t.target),t.bubbles=!0,t.cancelable=!0,t.ctrlKey=t.metaKey=t.altKey=t.shiftKey=!0,t.view=window,r?-1<['__touchstart__','__touchend__','__touchmove__'].indexOf(e)?r.dispatchEvent(new TouchEvent(e.slice(2,-2),l(t,r))):'__wheel__'===e?r.dispatchEvent(new WheelEvent(e.slice(2,-2),t)):r.dispatchEvent(new MouseEvent(e.slice(2,-2),t)):window.console.log('cannot find target:',t.target)}}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){if(3!==arguments.length)throw new Error('Missing Arguments!');t=t.replace(/\[/g,'.').replace(/\]/g,'.').replace(/\.\./g,'.').replace(/\.$/,''),t=t?(0,R.trim)(t,'.').split('.'):[''];for(var o=e,a=0;a<t.length;a++)a===t.length-1?(o[t[a]]=r,o.__isArray=!isNaN(t[a])):(void 0===o[t[a]]&&(o[t[a]]={},o.__isArray=!isNaN(t[a])),o=o[t[a]])}function n(e,t){t=t.replace(/\[/g,'.').replace(/\]/g,'.').replace(/\.\./g,'.').replace(/\.$/,''),t=t?(0,R.trim)(t,'.').split('.'):[''];for(var r,o=e,a=function(e){if(o.__isArray?(o=Object.keys(o).sort().reduce(function(e,t){return isNaN(t)||e.push(o[t]),e},[]),o=o.map(function(r){return r[t[e]]})):Array.isArray(o)?o=o.map(function(r){return r[t[e]]}):o=o[t[e]],void 0===o)return{v:o}},n=0;n<t.length;n++)if(r=a(n),'object'===('undefined'==typeof r?'undefined':(0,P.default)(r)))return r.v;return o}function l(e){for(var t in delete e.__isArray,e)e.hasOwnProperty(t)&&('object'==(0,P.default)(e[t])&&(e[t].__isArray&&(e[t]=s(e[t])),l(e[t])),delete e[t].__isArray)}function s(e){var t=[];return Object.keys(e).forEach(function(r){isNaN(r)||(t[r]=e[r])}),t}function i(e,t){var r=e.getAttribute(I.ATTRIBUTE.SELECTION),o=n(t,r)||[],l=d(e),s=e.options.length,i=e.selectedIndex;e.innerHTML='',o.forEach(function(t){var r=document.createElement('option');r.text=t,e.add(r)}),s===e.options.length&&e.options[i]?e.value=e.options[i].value:l&&(e.value=l),a(t,e.getAttribute(I.ATTRIBUTE.DATA),d(e))}function d(e){var t=e.getAttribute(I.ATTRIBUTE.SUFFIX),r=void 0;switch(e.constructor.name){case'HTMLSelectElement':case'HTMLInputElement':r=e.value;break;default:r=e.value;}switch(e.tagName){case'VFF-CHECKBOX':case'VFF-RADIO-BUTTON':r=e.checked;break;case'VFF-IMAGE-BROWSER':r='',e.value&&(r=e.value),e.url&&(r=e.url),e.selectedFiles&&e.selectedFiles.length&&(r=e.selectedFiles[0].url||'');}return t?r+t:r}function u(e,t){var r=e.getAttribute(I.ATTRIBUTE.SUFFIX)||'';switch(t=r?t.slice(0,-r.length):t,e.tagName){case'VFF-CHECKBOX':case'VFF-RADIO-BUTTON':return void(e.checked=t);case'VFF-IMAGE-BROWSER':return e.value=t,e.url=t,void(t&&(!e.selectedFiles.length||e.selectedFiles[0].url!==t)&&fetch(t).then(function(e){if(200===e.status)return e.blob();throw new Error('Can\'t fetch image'+t)}).then(function(r){e.selectedFiles=[];var o=new File([r],t,{type:r.type});o.url=t,e.value=t,e.url=t,e.addFiles([o])}));}switch(e.constructor.name){case'HTMLSelectElement':case'HTMLInputElement':e.value=t;break;default:e.value=t;}}function p(e){function t(e,o){if(Object(e)!==e)r[o]=e;else if(Array.isArray(e)){var a=e.length;r[o]=e;for(var n=0;n<a;n++)t(e[n],o+'.'+n);0===a&&(r[o]=[])}else{var l=!0;for(var s in e)l=!1,r[o?o+'.'+s:s]=e[s],t(e[s],o?o+'.'+s:s);l&&o&&(r[o]={})}}var r={};return t(e,''),r}function c(){M={},k={};var e=(0,R.searchAttribute)([I.ATTRIBUTE.DATA,I.ATTRIBUTE.STYLE]);e.forEach(function(e){if(e.hasAttribute(I.ATTRIBUTE.DATA)){var t=e.getAttribute(I.ATTRIBUTE.DATA);e.setAttribute(I.ATTRIBUTE.DATA,t.replace(/\[/g,'.').replace(/\]/g,'.').replace(/\.\./g,'.').replace(/\.$/,''));var r=d(e);a(M,t,r)}if(e.hasAttribute(I.ATTRIBUTE.STYLE)){var o=e.getAttribute(I.ATTRIBUTE.STYLE),n=d(e);a(k,o,n)}}),l(M)}function f(){var e=(0,R.searchAttribute)(I.ATTRIBUTE.SELECTION);e.forEach(function(e){i(e,M)})}function g(){c(),f(),M.__style=k,S.vffData.updateController(M),(0,R.broadcast)(L.VFF_EVENT,{dataChanged:!0,root:M})}function _(e){setTimeout(function(){e.target.hasAttribute(I.ATTRIBUTE.DATA)&&a(M,e.target.getAttribute(I.ATTRIBUTE.DATA),d(e.target)),e.target.hasAttribute(I.ATTRIBUTE.STYLE)&&a(k,e.target.getAttribute(I.ATTRIBUTE.STYLE),d(e.target)),l(M),(0,R.searchAttribute)(I.ATTRIBUTE.DATA,e.target.getAttribute(I.ATTRIBUTE.DATA)).forEach(function(t){u(t,d(e.target))}),(0,R.searchAttribute)(I.ATTRIBUTE.STYLE,e.target.getAttribute(I.ATTRIBUTE.STYLE)).forEach(function(t){u(t,d(e.target))}),f(),M.__style=k,S.vffData.updateController(M),(0,R.broadcast)(L.VFF_EVENT,{dataChanged:!0,root:M})})}function m(t){t.target.selectedFiles.length&&p(M)[t.target.getAttribute(I.ATTRIBUTE.DATA).replace(/\[/g,'.').replace(/\]/g,'.').replace(/\.\./g,'.').replace(/\.$/,'')]!==t.target.selectedFiles[0].url&&t.target.url!==t.target.selectedFiles[0].url?window.vff.controller.upload(t.target.selectedFiles[0],function(r){console.log('upload file'),(0,D.uploadFile)(t.target.selectedFiles[0],r.urls.uploadUrl,{onSuccess:function(){t.target.selectedFiles[0].url=r.urls.cdnUrl,_(t)}})}):(t.target.value='',t.target.url='',_(t))}function y(e){'VFF-CHECKBOX'===e.tagName||'VFF-RADIO-BUTTON'===e.tagName?(e.removeEventListener('click',_,!1),e.addEventListener('click',_,!1)):'VFF-IMAGE-BROWSER'===e.tagName?(e.removeEventListener('vff:change',m,!1),e.addEventListener('vff:change',m,!1)):(e.removeEventListener('input',_),e.addEventListener('input',_))}function E(){N.observe(document.documentElement,{attributeFilter:[I.ATTRIBUTE.DATA,I.ATTRIBUTE.STYLE],attributeOldValue:!0,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0})}function h(){E(),(0,R.searchAttribute)([I.ATTRIBUTE.DATA,I.ATTRIBUTE.STYLE]).forEach(function(e){return y(e)}),setTimeout(g,C)}var v=r(44),T=o(v),A=r(45),b=o(A),O=r(17),P=o(O),x=function(){var e=(0,b.default)(T.default.mark(function e(t){return T.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',new Promise(function(e,r){t=t||new URL('./controller.html',document.baseURI).href;var o=new XMLHttpRequest;o.open('GET',t,!0),o.onload=function(){4===o.readyState&&(200===o.status&&o.response&&new DOMParser().parseFromString(o.response,'text/html').querySelector('[vff-controller]')?e(t):r())},o.onerror=function(){r()},o.send(null)}));case 1:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),R=r(3),S=r(8),I=r(14),L=r(2),D=r(134),M={},k={},C=300,N=new MutationObserver(function(e){var t=!1;e.forEach(function(e){'attributes'===e.type&&(e.target.hasAttribute(I.ATTRIBUTE.DATA)||e.target.hasAttribute(I.ATTRIBUTE.STYLE))&&e.target.getAttribute(e.attributeName)!==e.oldValue&&(t=!0,y(e.target)),'childList'===e.type&&e.removedNodes.length&&e.removedNodes.forEach(function(e){(0,R.searchAttribute)([I.ATTRIBUTE.DATA,I.ATTRIBUTE.STYLE],void 0,e).length&&(t=!0)})}),t&&setTimeout(g,C)});e.exports={init:function(){window.addEventListener('load',function(){(0,R.searchAttribute)(I.ATTRIBUTE.CONTROLLER).length?(S.vffData.registerController().on(function(t){setTimeout(function(){var e=p(t.data);Object.keys(e).forEach(function(r){(0,R.searchAttribute)([I.ATTRIBUTE.DATA,I.ATTRIBUTE.STYLE],r.replace('__style.','')).forEach(function(o){o.hasAttribute(I.ATTRIBUTE.SELECTION)&&i(o,t.data),u(o,e[r])})})},150)},{changeOnly:!1,throttle:0}),h()):x().then(function(e){S.vffData.registerController(e)},function(){})})},update:function(){setTimeout(g,C)}}},function(e,t,r){'use strict';function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var a=r(5),n=r(98),l=r(2),s=r(8),i=r(103),d=r(133),u=r(68),p=r(144),c=r(135),f=function(e){return e&&e.__esModule?e:{default:e}}(c);r(137);var g=r(3),_=r(138),m=o(_),y=r(139),E=o(y),h=r(140),v=o(h),T=r(141),A=r(142),b=o(A),O=r(67),P=r(14),x=r(143),R=o(x);(0,i.start)(),(0,d.init)(),(0,u.init)(),window.addEventListener('load',function(){(0,p.init)(),g.isMobile?window.document.body.classList.add('vff-mobile'):window.document.body.classList.remove('vff-mobile'),(0,a.send)(l.READY)});var S=function(e){return new f.default(e)};S.registerControl=function(e,t,r){return s.vffData.registerControl(e,t,r)},S.registerControls=function(e,t){return s.vffData.registerControls(e,t)},S.updateControl=function(e,t,r){return s.vffData.updateControl(e,t,r)},S.getControl=function(e){return s.vffData.getControl(e)},S.ready=function(e){return s.vffData.ready(e)},S.customReady=function(){(0,a.send)(l.CUSTOM_READY)},S.onUpdate=function(e){return s.vffData.onUpdate(e)},S.getPages=function(){return s.vffData.getPages()},S.onPages=function(e){return s.vffData.onPages(e)},S.on=function(e,t,r){return s.vffData.on(e,t,r)},S.onController=function(e,t,r){return s.vffData.onController(e,t,r)},S.getQueryParams=function(){return s.vffData.getQueryParams()},S.send=function(e,t){(0,a.send)(e,t)},S.request=function(e,t,r){(0,a.request)(e,t,r)},S.setup=function(e){return(0,n.setup)(e)},S.isMobile=g.isMobile,S.isController=function(){return S.mode===P.MODE.PREVIEW||S.mode===P.MODE.PROGRAM},S.data=function(){return s.vffData.getControllerData()},S.mode=P.MODE.NORMAL,S.MODE=P.MODE,S.defer=g.defer,S.extend=function(e,t){S[e]=t},S.define=function(e,t){'customElements'in window&&customElements.define(e,t)},S.uuid=(0,g.uuid)(),S.sync=function(e){(0,O.bindSyncEvents)(e)},S.enableOverscroll=function(){R.disable()},S.disableOverscroll=function(){R.enable()},(0,g.extend)(S,E),(0,g.extend)(S,m),S._playerStatus={},S.extend('controller',v),S.extend('video',T.api),S.extend('http',b),e.exports=S},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(r){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,r){'use strict';t.__esModule=!0;var o=r(72),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,a.default)(e)}},function(e,t,r){e.exports={default:r(73),__esModule:!0}},function(e,t,r){r(18),r(81),e.exports=r(4).Array.from},function(e,t,r){var o=r(29),n=r(30);e.exports=function(e){return function(t,r){var d,a,u=n(t)+'',s=o(r),i=u.length;return 0>s||s>=i?e?'':void 0:(d=u.charCodeAt(s),55296>d||56319<d||s+1===i||56320>(a=u.charCodeAt(s+1))||57343<a?e?u.charAt(s):d:e?u.slice(s,s+2):(d-55296<<10)+(a-56320)+65536)}}},function(e,t,r){'use strict';var o=r(50),a=r(21),n=r(26),l={};r(11)(l,r(1)('iterator'),function(){return this}),e.exports=function(e,t,r){e.prototype=o(l,{next:a(1,r)}),n(e,t+' Iterator')}},function(e,t,r){var o=r(6),a=r(7),n=r(33);e.exports=r(9)?Object.defineProperties:function(e,t){a(e);for(var r,l=n(t),s=l.length,d=0;s>d;)o.f(e,r=l[d++],t[r]);return e}},function(e,t,r){var o=r(22);e.exports=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==o(e)?e.split(''):Object(e)}},function(e,t,r){var o=r(16),a=r(34),n=r(79);e.exports=function(e){return function(t,r,l){var s,i=o(t),d=a(i.length),u=n(l,d);if(e&&r!=r){for(;d>u;)if(s=i[u++],s!=s)return!0;}else for(;d>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}}},function(t,r,o){var a=o(29),n=Math.max;t.exports=function(t,r){return t=a(t),0>t?n(t+r,0):e(t,r)}},function(e,t,r){var o=r(13),a=r(53),n=r(35)('IE_PROTO'),l=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),o(e,n)?e[n]:'function'==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,r){'use strict';var o=r(20),a=r(10),n=r(53),l=r(54),s=r(55),i=r(34),d=r(82),u=r(38);a(a.S+a.F*!r(56)(function(e){Array.from(e)}),'Array',{from:function(e){var t,r,a,p,c=n(e),f='function'==typeof this?this:Array,g=arguments.length,_=1<g?arguments[1]:void 0,m=void 0!==_,y=0,E=u(c);if(m&&(_=o(_,2<g?arguments[2]:void 0,2)),void 0!=E&&!(f==Array&&s(E)))for(p=E.call(c),r=new f;!(a=p.next()).done;y++)d(r,y,m?l(p,_,[a.value,y],!0):a.value);else for(t=i(c.length),r=new f(t);t>y;y++)d(r,y,m?_(c[y],y):c[y]);return r.length=y,r}})},function(e,t,r){'use strict';var o=r(6),a=r(21);e.exports=function(e,t,r){t in e?o.f(e,t,a(0,r)):e[t]=r}},function(e,t,r){e.exports={default:r(84),__esModule:!0}},function(e,t,r){r(18),r(27),e.exports=r(40).f('iterator')},function(e,t,r){'use strict';var o=r(86),a=r(87),n=r(15),l=r(16);e.exports=r(47)(Array,'Array',function(e,t){this._t=l(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):'keys'==t?a(0,r):'values'==t?a(0,e[r]):a(0,[r,e[r]])},'values'),n.Arguments=n.Array,o('keys'),o('values'),o('entries')},function(e){e.exports=function(){}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(89),__esModule:!0}},function(e,t,r){r(90),r(59),r(96),r(97),e.exports=r(4).Symbol},function(e,t,r){'use strict';var o=r(0),a=r(13),n=r(9),l=r(10),s=r(49),d=r(91).KEY,i=r(24),u=r(36),p=r(26),c=r(25),f=r(1),g=r(40),_=r(41),m=r(92),y=r(93),E=r(7),h=r(12),v=r(16),T=r(32),A=r(21),b=r(50),O=r(94),P=r(95),x=r(6),R=r(33),S=P.f,I=x.f,L=O.f,D=o.Symbol,M=o.JSON,C=M&&M.stringify,N='prototype',w=f('_hidden'),F=f('toPrimitive'),U={}.propertyIsEnumerable,B=u('symbol-registry'),V=u('symbols'),Y=u('op-symbols'),G=Object[N],X='function'==typeof D,H=o.QObject,K=!H||!H[N]||!H[N].findChild,q=n&&i(function(){return 7!=b(I({},'a',{get:function(){return I(this,'a',{value:7}).a}})).a})?function(e,t,r){var o=S(G,t);o&&delete G[t],I(e,t,r),o&&e!==G&&I(G,t,o)}:I,W=function(e){var t=V[e]=b(D[N]);return t._k=e,t},Q=X&&'symbol'==typeof D.iterator?function(e){return'symbol'==typeof e}:function(e){return e instanceof D},z=function(e,t,r){return e===G&&z(Y,t,r),E(e),t=T(t,!0),E(r),a(V,t)?(r.enumerable?(a(e,w)&&e[w][t]&&(e[w][t]=!1),r=b(r,{enumerable:A(0,!1)})):(!a(e,w)&&I(e,w,A(1,{})),e[w][t]=!0),q(e,t,r)):I(e,t,r)},J=function(e,t){E(e);for(var r,o=m(t=v(t)),a=0,n=o.length;n>a;)z(e,r=o[a++],t[r]);return e},$=function(e){var t=U.call(this,e=T(e,!0));return(this!==G||!a(V,e)||a(Y,e))&&(!(t||!a(this,e)||!a(V,e)||a(this,w)&&this[w][e])||t)},Z=function(e,t){if(e=v(e),t=T(t,!0),e!==G||!a(V,t)||a(Y,t)){var r=S(e,t);return r&&a(V,t)&&!(a(e,w)&&e[w][t])&&(r.enumerable=!0),r}},ee=function(e){for(var t,r=L(v(e)),o=[],n=0;r.length>n;)a(V,t=r[n++])||t==w||t==d||o.push(t);return o},te=function(e){for(var t,r=e===G,o=L(r?Y:v(e)),n=[],l=0;o.length>l;)a(V,t=o[l++])&&(!r||a(G,t))&&n.push(V[t]);return n};X||(D=function(){if(this instanceof D)throw TypeError('Symbol is not a constructor!');var e=c(0<arguments.length?arguments[0]:void 0),t=function(r){this===G&&t.call(Y,r),a(this,w)&&a(this[w],e)&&(this[w][e]=!1),q(this,e,A(1,r))};return n&&K&&q(G,e,{configurable:!0,set:t}),W(e)},s(D[N],'toString',function(){return this._k}),P.f=Z,x.f=z,r(58).f=O.f=ee,r(42).f=$,r(57).f=te,n&&!r(19)&&s(G,'propertyIsEnumerable',$,!0),g.f=function(e){return W(f(e))}),l(l.G+l.W+l.F*!X,{Symbol:D});for(var re=['hasInstance','isConcatSpreadable','iterator','match','replace','search','species','split','toPrimitive','toStringTag','unscopables'],oe=0;re.length>oe;)f(re[oe++]);for(var j=R(f.store),ae=0;j.length>ae;)_(j[ae++]);l(l.S+l.F*!X,'Symbol',{for:function(e){return a(B,e+='')?B[e]:B[e]=D(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+' is not a symbol!');for(var t in B)if(B[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),l(l.S+l.F*!X,'Object',{create:function(e,t){return t===void 0?b(e):J(b(e),t)},defineProperty:z,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te}),M&&l(l.S+l.F*(!X||i(function(){var e=D();return'[null]'!=C([e])||'{}'!=C({a:e})||'{}'!=C(Object(e))})),'JSON',{stringify:function(e){for(var t,r,o=[e],a=1;arguments.length>a;)o.push(arguments[a++]);if(r=t=o[1],(h(t)||void 0!==e)&&!Q(e))return y(t)||(t=function(e,t){if('function'==typeof r&&(t=r.call(this,e,t)),!Q(t))return t}),o[1]=t,C.apply(M,o)}}),D[N][F]||r(11)(D[N],F,D[N].valueOf),p(D,'Symbol'),p(Math,'Math',!0),p(o.JSON,'JSON',!0)},function(e,t,r){var o=r(25)('meta'),a=r(12),n=r(13),l=r(6).f,s=0,i=Object.isExtensible||function(){return!0},d=!r(24)(function(){return i(Object.preventExtensions({}))}),u=function(e){l(e,o,{value:{i:'O'+ ++s,w:{}}})},p=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!a(e))return'symbol'==typeof e?e:('string'==typeof e?'S':'P')+e;if(!n(e,o)){if(!i(e))return'F';if(!t)return'E';u(e)}return e[o].i},getWeak:function(e,t){if(!n(e,o)){if(!i(e))return!0;if(!t)return!1;u(e)}return e[o].w},onFreeze:function(e){return d&&p.NEED&&i(e)&&!n(e,o)&&u(e),e}}},function(e,t,r){var o=r(33),a=r(57),n=r(42);e.exports=function(e){var t=o(e),r=a.f;if(r)for(var l,s=r(e),d=n.f,u=0;s.length>u;)d.call(e,l=s[u++])&&t.push(l);return t}},function(e,t,r){var o=r(22);e.exports=Array.isArray||function(e){return'Array'==o(e)}},function(e,t,r){var o=r(16),a=r(58).f,n={}.toString,l='object'==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(t){return l.slice()}};e.exports.f=function(e){return l&&'[object Window]'==n.call(e)?s(e):a(o(e))}},function(e,t,r){var o=r(42),a=r(21),n=r(16),l=r(32),s=r(13),i=r(48),d=Object.getOwnPropertyDescriptor;t.f=r(9)?d:function(e,t){if(e=n(e),t=l(t,!0),i)try{return d(e,t)}catch(t){}return s(e,t)?a(!o.f.call(e,t),e[t]):void 0}},function(e,t,r){r(41)('asyncIterator')},function(e,t,r){r(41)('observable')},function(e,t,r){'use strict';var o=r(5),a=r(2);e.exports={setup:function(e){e&&(0,o.send)(a.VF_SETUP,e)}}},function(e,t,r){r(100);var o=r(4).Object;e.exports=function(e,t,r){return o.defineProperty(e,t,r)}},function(e,t,r){var o=r(10);o(o.S+o.F*!r(9),'Object',{defineProperty:r(6).f})},function(e){'use strict';e.exports={REGISTER_TEMPLATE:'register-template'}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=r(17),n=o(a),l=r(61),s=o(l),i=r(28),d=o(i),u=r(43),p=o(u),c=r(3),f=r(14),g=r(5),_=r(2),m=r(8),y=r(62),E=o(y),h={group:f.DEFAULT_GROUP_NAME,global:!1,bindTo:void 0,updateOn:'control'},v={throttle:!0,changeOnly:!0},T={throttle:!0},A=function(){function e(t,r,o){(0,d.default)(this,e);var a=void 0,n=t.split(f.NAMESPACE_DELIMITER);1<n.length&&(t=n[n.length-1],a=n.slice(0,-1).join(f.NAMESPACE_DELIMITER)),this._name=t,this._options=Object.assign({},h,o||{}),a&&this._options.group===h.group&&(this._options.group=a),this._group=this._options.group,this._listeners=[],this._middleware=[],this._timeouts=new WeakMap,r&&r.value&&(r=r.value),this._value=r,this._updateBoundElements()}return(0,p.default)(e,[{key:'getGroup',value:function(){return this._options.group}},{key:'getName',value:function(){return this._name}},{key:'getNamespace',value:function(){return this.getGroup()+f.NAMESPACE_DELIMITER+this.getName()}},{key:'getOptions',value:function(){return this._options}},{key:'getValue',value:function(){return this._value}},{key:'getBindProp',value:function(){return this.getOptions().bindTo}},{key:'isBoundToAttribute',value:function(){return!!this.getOptions().attribute}},{key:'_updateBoundElements',value:function(){var e=this,t=document.querySelectorAll(this._bindSelector());t.forEach(function(t){e.getBindProp()?e.isBoundToAttribute()?t.setAttribute(e.getBindProp(),e._value):(0,c.setByPath)(t,e.getBindProp(),e._value):t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement?t.value=e._value:t.innerHTML=e._value})}},{key:'_runListeners',value:function(e){var t=this;this._listeners.forEach(function(r){(!r.options.changeOnly||e)&&t._runCallback(r.fn,r.options,new E.default({data:t._value,timecode:t.timecode,changed:e}))})}},{key:'_setValue',value:function(e){var t=this;e&&e.value&&(e=e.value);var r=!(0,c.deepCompare)(this._value,e);return new Promise(function(o,a){t._runMiddleware(t._middleware,e).then(function(e){var a=t._value;t._value=e,t._updateBoundElements(),t._runListeners(r),o({controlChange:r,oldVal:a})},a)})}},{key:'updateValue',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e&&e.value&&(e=e.value);var r=!(0,c.deepCompare)(this._value,e);return null!==e&&void 0!==e&&(this._value=e),Object.assign(this._options,t),this._updateBoundElements(),this._runListeners(r),(0,g.send)(_.USER_UPDATE,(0,s.default)({},this.getGroup(),this.getValueObject())),r}},{key:'getValueObject',value:function(){var e;return e=this.getOptions().ui&&(0,n.default)(this.getOptions().ui.type)?(0,s.default)({},this.getName(),{ui:this.getOptions().ui.type,options:this.getOptions().ui.options,value:this.getValue(),label:this.getOptions().ui.label,config:this.getOptions().ui.config}):(0,s.default)({},this.getName(),this.getValue()),e}},{key:'on',value:function(e,t){return t=Object.assign({},v,t||{}),this._listeners.push({fn:e,options:t}),this}},{key:'emit',value:function(e){(0,g.send)(_.OUTGOING_EVENT,{data:e,query:m.vffData.getQueryParams(),channel:this.getGroup()})}},{key:'before',value:function(e,t){return t=Object.assign({},T,t||{}),this._middleware.push({fn:e,options:t}),this}},{key:'_bindSelector',value:function(){var e=this.getGroup()+f.NAMESPACE_DELIMITER,t=''+this.getName().split(f.EXPOSE_DELIMITER)[0];return'['+f.ATTRIBUTE.BIND+'="'+e+t+'"]'}},{key:'_runCallback',value:function(e,t){for(var r=arguments.length,o=Array(2<r?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];t.consolidate||t.throttle?(clearTimeout(this._timeouts.get(e)),this._timeouts.set(e,setTimeout(function(){e.apply(void 0,o)},'number'==typeof t.throttle?t.throttle:50))):e.apply(void 0,o)}},{key:'_runMiddleware',value:function(e,t){var r=this;return e.reduce(function(e,t){return e.then(function(e){var o=(0,c.defer)();return r._runCallback(t.fn,t.options,e,o.resolve),o.promise})},Promise.resolve(t))}}]),e}();t.default=A},function(e,t,r){'use strict';function o(e){try{var t=JSON.parse(e.data),r=t.type,o=n[r];if(t.cid&&e.source&&e.source.postMessage){var a={type:l.ACK,cid:t.cid};e.source.postMessage(JSON.stringify(a),'*')}o&&o(t.payload)}catch(e){}}var a=r(104),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),l=r(2);e.exports={start:function(){window&&window.addEventListener&&window.addEventListener('message',o,!1)}}},function(e,t,r){'use strict';var o=r(5),a=r(105),n=r(128),l=r(129),s=r(130),i=r(131),d=r(132),u=r(2),p=!1,c={};c[u.UPDATE]=function(t){p||(p=!0,(0,o.send)(u.DATA_READY)),(0,a.updateStyles)(t),(0,a.update)(t)},c[u.PAGES]=n.pages,c[u.QUERY_PARAMS]=l.queryParams,c[u.RELOAD]=s.reload,c[u.VF_DATA]=i.handleVFData,c[u.DEVICE_CHANGE]=d.deviceChange,c[u.PLAYER_STATUS]=d.playerStatus,e.exports=c},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={};for(var r in e)if(r.includes(m.EXPOSE_DELIMITER)){var o=r.split(m.EXPOSE_DELIMITER),a=o[0],n=o[1];t[a]=t[a]||{},t[a][n]=e[r]}return t}var n=r(106),l=o(n),s=r(44),i=o(s),d=r(45),u=o(d),p=function(){var e=(0,u.default)(i.default.mark(function e(t){var r,o,n,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,o=!1,n=[],l={},e.abrupt('return',new Promise(function(e,s){var i=function(e){var a=function(a){a!==m.TIMECODE&&(!r&&(r=t[e].__timecode__),n.push(new Promise(function(n,s){var i=''+e+m.NAMESPACE_DELIMITER+a;f.vffData._updateControl(i,t[e][a],{timecode:r}).then(function(s){l[e]=s.controlChange||l[e],i.includes(m.EXPOSE_DELIMITER)&&(l[i.split(m.EXPOSE_DELIMITER)[0]]=s.controlChange||l[i.split(m.EXPOSE_DELIMITER)[0]]),o=s.controlChange||o,(0,c.broadcast)(_.VFF_EVENT+i.toLowerCase(),{dataChanged:s.controlChange,timecode:r,data:t[e][a],oldValue:s.oldVal}),n()},s)})))};for(var s in t[e])a(s)};for(var d in t)i(d);Promise.all(n).then(function(){for(var n in t){(0,c.broadcast)(_.VFF_EVENT+n.toLowerCase(),{dataChanged:l[n],timecode:r,data:t[n]});var s=a(t[n]);for(var i in s)(0,c.broadcast)(_.VFF_EVENT+n.toLowerCase()+m.NAMESPACE_DELIMITER+i.toLowerCase(),{dataChanged:l[n+m.NAMESPACE_DELIMITER+i],timecode:r,data:s[i]})}(0,c.broadcast)(_.VFF_EVENT,{dataChanged:o,timecode:r,data:t}),e()},s)}));case 2:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),c=r(3),f=r(8),g=r(67),_=r(2),m=r(14);e.exports={update:p,updateInteraction:function(e){for(var t in e)(0,g.isInteractionEvent)(t)&&(0,g.dispatchEvent)(t,e[t])},updateStyles:function(e){try{var t=e.controller.main.value.__style,r=!0,o=!1,a=void 0;try{for(var n,s=Object.entries(t)[Symbol.iterator]();!(r=(n=s.next()).done);r=!0){var i=n.value,d=(0,l.default)(i,2),u=d[0],p=d[1],c='--'+u.replace(/([A-Z])/g,function(e){return'-'+e[0].toLowerCase()});document.documentElement.style.setProperty(c,p)}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}catch(t){}}}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(107),n=o(a),l=r(110),s=o(l);t.default=function(){function e(e,t){var r=[],o=!0,a=!1,n=void 0;try{for(var l,i=(0,s.default)(e);!(o=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));o=!0);}catch(e){a=!0,n=e}finally{try{!o&&i['return']&&i['return']()}finally{if(a)throw n}}return r}return function(t,r){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return e(t,r);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}()},function(e,t,r){e.exports={default:r(108),__esModule:!0}},function(e,t,r){r(27),r(18),e.exports=r(109)},function(e,t,r){var o=r(39),a=r(1)('iterator'),n=r(15);e.exports=r(4).isIterable=function(e){var t=Object(e);return t[a]!==void 0||'@@iterator'in t||n.hasOwnProperty(o(t))}},function(e,t,r){e.exports={default:r(111),__esModule:!0}},function(e,t,r){r(27),r(18),e.exports=r(112)},function(e,t,r){var o=r(7),a=r(38);e.exports=r(4).getIterator=function(e){var t=a(e);if('function'!=typeof t)throw TypeError(e+' is not iterable!');return o(t.call(e))}},function(e,t,r){var o=function(){return this}()||Function('return this')(),a=o.regeneratorRuntime&&0<=Object.getOwnPropertyNames(o).indexOf('regeneratorRuntime'),n=a&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=r(114),a)o.regeneratorRuntime=n;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}},function(e){!function(t){'use strict';function r(e,t,r,o){var n=t&&t.prototype instanceof a?t:a,l=Object.create(n.prototype),s=new f(o||[]);return l._invoke=d(e,r,s),l}function o(e,t,r){try{return{type:'normal',arg:e.call(t,r)}}catch(e){return{type:'throw',arg:e}}}function a(){}function n(){}function l(){}function s(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function i(e){function t(r,a,n,l){var s=o(e[r],e,a);if('throw'===s.type)l(s.arg);else{var i=s.arg,d=i.value;return d&&'object'==typeof d&&y.call(d,'__await')?Promise.resolve(d.__await).then(function(e){t('next',e,n,l)},function(e){t('throw',e,n,l)}):Promise.resolve(d).then(function(e){i.value=e,n(i)},l)}}function r(e,r){function o(){return new Promise(function(o,a){t(e,r,o,a)})}return a=a?a.then(o,o):o()}var a;this._invoke=r}function d(e,t,r){var a=O;return function(n,l){if(a===x)throw new Error('Generator is already running');if(a===R){if('throw'===n)throw l;return _()}for(r.method=n,r.arg=l;;){var s=r.delegate;if(s){var i=u(s,r);if(i){if(i===S)continue;return i}}if('next'===r.method)r.sent=r._sent=r.arg;else if('throw'===r.method){if(a===O)throw a=R,r.arg;r.dispatchException(r.arg)}else'return'===r.method&&r.abrupt('return',r.arg);a=x;var d=o(e,t,r);if('normal'===d.type){if(a=r.done?R:P,d.arg===S)continue;return{value:d.arg,done:r.done}}'throw'===d.type&&(a=R,r.method='throw',r.arg=d.arg)}}}function u(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,u(e,t),'throw'===t.method))return S;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return S}var a=o(r,e.iterator,t.arg);if('throw'===a.type)return t.method='throw',t.arg=a.arg,t.delegate=null,S;var n=a.arg;if(!n)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,S;if(n.done)t[e.resultName]=n.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return n;return t.delegate=null,S}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function c(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(p,this),this.reset(!0)}function g(e){if(e){var t=e[h];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}var m=Object.prototype,y=m.hasOwnProperty,E='function'==typeof Symbol?Symbol:{},h=E.iterator||'@@iterator',v=E.asyncIterator||'@@asyncIterator',T=E.toStringTag||'@@toStringTag',A='object'==typeof e,b=t.regeneratorRuntime;if(b)return void(A&&(e.exports=b));b=t.regeneratorRuntime=A?e.exports:{},b.wrap=r;var O='suspendedStart',P='suspendedYield',x='executing',R='completed',S={},I={};I[h]=function(){return this};var L=Object.getPrototypeOf,D=L&&L(L(g([])));D&&D!==m&&y.call(D,h)&&(I=D);var M=l.prototype=a.prototype=Object.create(I);n.prototype=M.constructor=l,l.constructor=n,l[T]=n.displayName='GeneratorFunction',b.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===n||'GeneratorFunction'===(t.displayName||t.name))},b.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,!(T in e)&&(e[T]='GeneratorFunction')),e.prototype=Object.create(M),e},b.awrap=function(e){return{__await:e}},s(i.prototype),i.prototype[v]=function(){return this},b.AsyncIterator=i,b.async=function(e,t,o,a){var n=new i(r(e,t,o,a));return b.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},s(M),M[T]='Generator',M[h]=function(){return this},M.toString=function(){return'[object Generator]'},b.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},b.values=g,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(c),!e)for(var t in this)'t'===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return n.type='throw',n.arg=e,r.next=t,o&&(r.method='next',r.arg=void 0),!!o}if(this.done)throw e;for(var r=this,o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],n=a.completion;if('root'===a.tryLoc)return t('end');if(a.tryLoc<=this.prev){var l=y.call(a,'catchLoc'),s=y.call(a,'finallyLoc');if(l&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!s)throw new Error('try statement without catch or finally');else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var r,o=this.tryEntries.length-1;0<=o;--o)if(r=this.tryEntries[o],r.tryLoc<=this.prev&&y.call(r,'finallyLoc')&&this.prev<r.finallyLoc){var a=r;break}a&&('break'===e||'continue'===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var n=a?a.completion:{};return n.type=e,n.arg=t,a?(this.method='next',this.next=a.finallyLoc,S):this.complete(n)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),S},finish:function(e){for(var t,r=this.tryEntries.length-1;0<=r;--r)if(t=this.tryEntries[r],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),c(t),S},catch:function(e){for(var t,r=this.tryEntries.length-1;0<=r;--r)if(t=this.tryEntries[r],t.tryLoc===e){var o=t.completion;if('throw'===o.type){var a=o.arg;c(t)}return a}throw new Error('illegal catch attempt')},delegateYield:function(e,t,r){return this.delegate={iterator:g(e),resultName:t,nextLoc:r},'next'===this.method&&(this.arg=void 0),S}}}(function(){return this}()||Function('return this')())},function(e,t,r){e.exports={default:r(116),__esModule:!0}},function(e,t,r){r(59),r(18),r(27),r(117),r(125),r(126),e.exports=r(4).Promise},function(e,t,r){'use strict';var o,a,n,l,s=r(19),i=r(0),d=r(20),u=r(39),p=r(10),c=r(12),f=r(23),g=r(118),_=r(119),m=r(63),y=r(64).set,E=r(121)(),h=r(46),v=r(65),T=r(122),A=r(66),b='Promise',O=i.TypeError,P=i.process,x=P&&P.versions,R=x&&x.v8||'',S=i[b],I='process'==u(P),L=function(){},D=a=h.f,M=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[r(1)('species')]=function(e){e(L,L)};return(I||'function'==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==R.indexOf('6.6')&&-1===T.indexOf('Chrome/66')}catch(t){}}(),k=function(e){var t;return!!(c(e)&&'function'==typeof(t=e.then))&&t},C=function(e,t){if(!e._n){e._n=!0;var r=e._c;E(function(){for(var o=e._v,a=1==e._s,n=0,l=function(t){var r,n,l,s=a?t.ok:t.fail,i=t.resolve,d=t.reject,u=t.domain;try{s?(!a&&(2==e._h&&F(e),e._h=1),!0===s?r=o:(u&&u.enter(),r=s(o),u&&(u.exit(),l=!0)),r===t.promise?d(O('Promise-chain cycle')):(n=k(r))?n.call(r,i,d):i(r)):d(o)}catch(t){u&&!l&&u.exit(),d(t)}};r.length>n;)l(r[n++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){y.call(i,function(){var t,r,o,a=e._v,n=w(e);if(n&&(t=v(function(){I?P.emit('unhandledRejection',a,e):(r=i.onunhandledrejection)?r({promise:e,reason:a}):(o=i.console)&&o.error&&o.error('Unhandled promise rejection',a)}),e._h=I||w(e)?2:1),e._a=void 0,n&&t.e)throw t.v})},w=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){y.call(i,function(){var t;I?P.emit('rejectionHandled',e):(t=i.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),C(t,!0))},B=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw O('Promise can\'t be resolved itself');(t=k(e))?E(function(){var o={_w:r,_d:!1};try{t.call(e,d(B,o,1),d(U,o,1))}catch(t){U.call(o,t)}}):(r._v=e,r._s=1,C(r,!1))}catch(t){U.call({_w:r,_d:!1},t)}}};M||(S=function(e){g(this,S,b,'_h'),f(e),o.call(this);try{e(d(B,this,1),d(U,this,1))}catch(e){U.call(this,e)}},o=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=r(123)(S.prototype,{then:function(e,t){var r=D(m(this,S));return r.ok='function'!=typeof e||e,r.fail='function'==typeof t&&t,r.domain=I?P.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new o;this.promise=e,this.resolve=d(B,e,1),this.reject=d(U,e,1)},h.f=D=function(e){return e===S||e===l?new n(e):a(e)}),p(p.G+p.W+p.F*!M,{Promise:S}),r(26)(S,b),r(124)(b),l=r(4)[b],p(p.S+p.F*!M,b,{reject:function(e){var t=D(this),r=t.reject;return r(e),t.promise}}),p(p.S+p.F*(s||!M),b,{resolve:function(e){return A(s&&this===l?S:this,e)}}),p(p.S+p.F*!(M&&r(56)(function(e){S.all(e)['catch'](L)})),b,{all:function(e){var t=this,r=D(t),o=r.resolve,a=r.reject,n=v(function(){var r=[],n=0,l=1;_(e,!1,function(e){var s=n++,i=!1;r.push(void 0),l++,t.resolve(e).then(function(e){i||(i=!0,r[s]=e,--l||o(r))},a)}),--l||o(r)});return n.e&&a(n.v),r.promise},race:function(e){var t=this,r=D(t),o=r.reject,a=v(function(){_(e,!1,function(e){t.resolve(e).then(r.resolve,o)})});return a.e&&o(a.v),r.promise}})},function(e){e.exports=function(e,t,r,o){if(!(e instanceof t)||o!==void 0&&o in e)throw TypeError(r+': incorrect invocation!');return e}},function(e,t,r){var o=r(20),a=r(54),n=r(55),l=r(7),s=r(34),i=r(38),d={},u={},t=e.exports=function(e,t,r,p,c){var g,_,m,y,E=c?function(){return e}:i(e),h=o(r,p,t?2:1),f=0;if('function'!=typeof E)throw TypeError(e+' is not iterable!');if(n(E)){for(g=s(e.length);g>f;f++)if(y=t?h(l(_=e[f])[0],_[1]):h(e[f]),y===d||y===u)return y;}else for(m=E.call(e);!(_=m.next()).done;)if(y=a(m,h,_.value,t),y===d||y===u)return y};t.BREAK=d,t.RETURN=u},function(e){e.exports=function(e,t,r){var o=r===void 0;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3]);}return e.apply(r,t)}},function(e,t,r){var o=r(0),a=r(64).set,n=o.MutationObserver||o.WebKitMutationObserver,l=o.process,s=o.Promise,i='process'==r(22)(l);e.exports=function(){var t,r,d,e=function(){var e,o;for(i&&(e=l.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(o){throw t?d():r=void 0,o}}r=void 0,e&&e.enter()};if(i)d=function(){l.nextTick(e)};else if(n&&!(o.navigator&&o.navigator.standalone)){var u=!0,p=document.createTextNode('');new n(e).observe(p,{characterData:!0}),d=function(){p.data=u=!u}}else if(s&&s.resolve){var c=s.resolve(void 0);d=function(){c.then(e)}}else d=function(){a.call(o,e)};return function(e){var o={fn:e,next:void 0};r&&(r.next=o),t||(t=o,d()),r=o}}},function(e,t,r){var o=r(0),a=o.navigator;e.exports=a&&a.userAgent||''},function(e,t,r){var o=r(11);e.exports=function(e,t,r){for(var a in t)r&&e[a]?e[a]=t[a]:o(e,a,t[a]);return e}},function(e,t,r){'use strict';var o=r(0),a=r(4),n=r(6),l=r(9),s=r(1)('species');e.exports=function(e){var t='function'==typeof a[e]?a[e]:o[e];l&&t&&!t[s]&&n.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){'use strict';var o=r(10),a=r(4),n=r(0),l=r(63),s=r(66);o(o.P+o.R,'Promise',{finally:function(t){var r=l(this,a.Promise||n.Promise),e='function'==typeof t;return this.then(e?function(e){return s(r,t()).then(function(){return e})}:t,e?function(o){return s(r,t()).then(function(){throw o})}:t)}})},function(e,t,r){'use strict';var o=r(10),a=r(46),n=r(65);o(o.S,'Promise',{try:function(e){var t=a.f(this),r=n(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e){'use strict';function t(e){for(;e;){if('svg'===e.tagName)return!0;e=e.parentNode}}e.exports={createXPathFromElement:function(e){var r=document.getElementsByTagName('*'),o=void 0,a=void 0,l=void 0,s=void 0;for(o=[];e&&1==e.nodeType;e=e.parentNode)if(s=t(e),e.hasAttribute('id')&!s){for(var i=0,d=0;d<r.length&&(r[d].hasAttribute('id')&&r[d].id==e.id&&i++,!(1<i));d++);if(1==i)return o.unshift('id("'+e.getAttribute('id')+'")'),o.join('/');o.unshift(e.localName.toLowerCase()+'[@id="'+e.getAttribute('id')+'"]')}else if(e.hasAttribute('class')&&!s)o.unshift(e.localName.toLowerCase()+'[@class="'+e.getAttribute('class')+'"]');else{for(l=1,a=e.previousSibling;a;a=a.previousSibling)a.localName==e.localName&&l++;s?o.unshift('*[name()=\''+e.localName.toLowerCase()+'\']['+l+']'):o.unshift(e.localName.toLowerCase()+'['+l+']')}return o.length?'/'+o.join('/'):null},lookupElementByXPath:function(e){if(e){var t=new XPathEvaluator,r=t.evaluate(e,document.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);return r.singleNodeValue}},getElementByXpath:function(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}}},function(e,t,r){'use strict';var o=r(8);e.exports={pages:function(e){o.vffData.addPages(e)}}},function(e,t,r){'use strict';var o=r(8);e.exports={queryParams:function(e){o.vffData.addQueryParams(e)}}},function(e){'use strict';e.exports={reload:function(e){(e||window).location.reload()}}},function(e,t,r){'use strict';var o=r(8);e.exports={handleVFData:function(e){e.mode&&(window.vff.mode=e.mode),o.vffData.onReady()}}},function(e,t,r){'use strict';var o=r(3),a=r(2);e.exports={deviceChange:function(e){window.vff.isMobile='mobile'===e.device,window.vff.isMobile?window.document.body.classList.add('vff-mobile'):window.document.body.classList.remove('vff-mobile')},playerStatus:function(e){window.vff._playerStatus&&e.timecode===window.vff._playerStatus.timecode||(0,o.broadcast)(a.VIDEO_TIME_UPDATE,e.timecode),window.vff._playerStatus=e}}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=document.querySelectorAll('['+p.ATTRIBUTE.CONTROL+']');e.forEach(function(e){var t=e.getAttribute(p.ATTRIBUTE.CONTROL),r=e.getAttribute(p.ATTRIBUTE.OPTIONS)||'{}';try{r=(0,d.parseRJSON)(r)}catch(e){r={}}e.options&&'function'==typeof e.options&&(r=Object.assign({},e.options(),r));var o=e.getAttribute(p.ATTRIBUTE.EXPOSE);if(o)try{o=(0,d.parseRJSON)(o)}catch(e){o=o.match('{|}')?null:(0,i.default)({},o,o)}var a=o?o:e.expose?e.expose():{};for(var n in a)if(a.hasOwnProperty(n)){var s=a[n],c=void 0,f=void 0,g=void 0;'object'===(0,l.default)(a[n])&&(s=a[n].path,c=a[n].ui,f=a[n].attribute,g=a[n].value);var _=u.vffData.registerControl(t+p.EXPOSE_DELIMITER+n,g?g:f?e.getAttribute(s):(0,d.getByPath)(e,s),Object.assign({bindTo:s,ui:c,attribute:f},r)),m=-1<t.indexOf('.')?t.split('.')[1]:t;e.setAttribute(p.ATTRIBUTE.BIND,_.getGroup()+'.'+m)}if(e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement){var y=u.vffData.registerControl(t,e.value),E=-1<t.indexOf('.')?t.split('.')[1]:t;e.setAttribute(p.ATTRIBUTE.BIND,y.getGroup()+'.'+E)}});var t=document.querySelectorAll('['+p.ATTRIBUTE.BIND+']');t.forEach(function(e){(e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement)&&e.addEventListener('keyup',function(){var t=u.vffData.getControl(e.getAttribute(p.ATTRIBUTE.BIND));t&&t.updateValue(e.value)})})}var n=r(17),l=o(n),s=r(61),i=o(s),d=r(3),u=r(8),p=r(14);e.exports={init:function(){window.addEventListener('load',function(){a()})},_init:a}},function(e,t,r){'use strict';var o=r(3),a={};e.exports={uploadFile:function(e,t,r){var n=(0,o.uuid)();r=r||{};var l=new XMLHttpRequest;a[n]=l,l.open('PUT',t,!0),l.setRequestHeader('Content-type',e.type),l.upload.onprogress=function(){r.onProgress&&r.onProgress(event.loaded/event.total)},l.onreadystatechange=function(){4!==l.readyState||(200<=l.status&&300>l.status?(r.onSuccess&&r.onSuccess(),delete a[o.uuid]):(r.onError&&r.onError({status:l.status,statusText:l.statusText}),delete a[o.uuid]))},l.send(e)}}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=r(28),n=o(a),l=r(43),s=o(l),i=r(136),d=function(){function e(t){(0,n.default)(this,e),this.selector=t,this.element=null,this._init(),this._observe()}return(0,s.default)(e,[{key:'_init',value:function(){switch(this.selector[0]){case'<':{var e=this.selector.match(/<([\w-]*)>/);if(null===e||void 0===e)throw'Invalid Selector / Node';var t=e[0].replace('<','').replace('>','');this.element=document.createElement(t);break}default:this.element=document.querySelector(this.selector);}}},{key:'on',value:function(){var t=1<arguments.length?arguments[0]:null,r=1<arguments.length?arguments[1]:arguments[0],e=t?'vff-change-'+t:'vff-change',o=function(o){t?r(o.detail.value):r(o.detail.property,o.detail.value,o.detail.path)};this.element.addEventListener(e,o,!1);var a=this;return function(){a.element.removeEventListener(e,o,!1)}}},{key:'_observe',value:function(){var e=this;return(0,i.observe)(this.element,null,function(t,r){e.element.dispatchEvent(new CustomEvent(t,r))}),this}}]),e}();t.default=d},function(e,t,r){'use strict';function o(e,t){if(e.expose)return'object'===(0,d.default)(e.expose()[t])?e.expose()[t].path:e.expose()[t]}function a(e){for(var t='',r=0;r<e.length;r++)t+=(0,u.trim)(e[r],'_')+'.';return t}function n(e,t,r,n){var l=e[t],s=a(r),i=o(e,t);Object.defineProperty(e,t,{get:function(){return i?(0,u.getByPath)(e,i):l},set:function(o){if(o!==e[t]){if(n){var a='vff-change-'+s+(0,u.trim)(t,'_');n(a,{detail:{value:o}}),n('vff-change',{detail:{value:o,property:t,path:r}})}i?(0,u.setByPath)(e,i,o):l=o}}})}function l(e,t,r){t=t||[];for(var o=Object.getOwnPropertyNames(e),a=0;a<o.length;a++)'object'===(0,d.default)(e[o[a]])?(t.push(o[a]),l(e[o[a]],t.slice(),r)):n(e,o[a],t.slice(),r)}var s=r(17),d=function(e){return e&&e.__esModule?e:{default:e}}(s),u=r(3);e.exports={observe:l}},function(){'use strict';HTMLHeadingElement.prototype.expose=function(){return{text:'innerText',color:{path:'style.color',ui:{type:'color'}}}},HTMLSpanElement.prototype.expose=function(){return{text:'innerText'}},HTMLParagraphElement.prototype.expose=function(){return{text:'innerText'}},HTMLImageElement.prototype.expose=function(){return{src:{path:'src',attribute:!0}}}},function(e,t,r){'use strict';var o=r(2),a=r(5),n=r(8);e.exports={track:function(e,t){var r={};r.name=e,r.data=t,r.query=n.vffData.getQueryParams(),(0,a.send)(o.TRACK_EVENT,r)}}},function(e,t,r){'use strict';function o(e,t,r,o){if(e===void 0)throw new Error('vff.crop incorrect usage, please pass width, height, top and left values');else void 0===o&&(o=r),(0,n.send)(l.CROP,void 0===t?{crop:e}:{top:e,left:t,width:r,height:o})}function a(e,t,r,o,a,s,i,d,u){var p=!0,c=!1,f=void 0;try{for(var g,_,m=arguments[Symbol.iterator]();!(p=(g=m.next()).done);p=!0)if(_=g.value,void 0===_)throw new Error('vff.transform incorrect usage, please pass fromTopLeftX, fromTopLeftY, fromBottomRightX, fromBottomRightY, toTopLeftX, toTopLeftY, toBottomRightX and toBottomRightY values')}catch(e){c=!0,f=e}finally{try{!p&&m.return&&m.return()}finally{if(c)throw f}}(0,n.send)(l.TRANSFORM,{fromTopLeftX:e,fromTopLeftY:t,fromBottomRightX:r,fromBottomRightY:o,toTopLeftX:a,toTopLeftY:s,toBottomRightX:i,toBottomRightY:d,options:u})}var n=r(5),l=r(2),s=r(3),i={};(0,s.overlaod)(i,'transform',function(){a()}),(0,s.overlaod)(i,'transform',function(e,t,r,o){a(e,t,r,o,0,0,1,1,{})}),(0,s.overlaod)(i,'transform',function(e,t,r,o,n){a(e,t,r,o,0,0,1,1,n)}),(0,s.overlaod)(i,'transform',function(e,t,r,o,n,l,s,i){a(e,t,r,o,n,l,s,i,{})}),(0,s.overlaod)(i,'transform',function(e,t,r,o,n,l,s,i,d){a(e,t,r,o,n,l,s,i,d)}),e.exports={go:function(e,t){(0,n.send)(l.GO,{target:e,time:t})},crop:o,transform:i.transform,audioTrack:function(e){(0,n.send)(l.AUDIO_TRACK,e)},videoTransform:o,next:s.noop,previous:s.noop,home:s.noop}},function(e,t,r){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}var a=r(44),n=o(a),l=r(45),s=o(l),i=function(){var e=(0,s.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',new Promise(function(e){(0,p.request)('vff-current-time',{},function(t){e(t.payload.currentTime)})}));case 1:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),d=r(68),u=r(2),p=r(5);e.exports={update:d.update,upload:function(e,t){(0,p.request)(u.UPLOAD,{asset:{name:e.name,type:e.type}},function(e){t(e.payload)})},currentTime:i,go:function(e){(0,p.send)('vff-video-go',{time:e})}}},function(e,t,r){'use strict';var o=r(5),a=r(3),n=r(2),l={};Object.defineProperty(l,'currentTime',{get:function(){return window.vff._playerStatus.timecode}}),Object.defineProperty(l,'src',{get:function(){return window.vff._playerStatus.src}}),Object.defineProperty(l,'duration',{get:function(){return window.vff._playerStatus.duration}}),Object.defineProperty(l,'paused',{get:function(){return window.vff._playerStatus.paused}}),Object.defineProperty(l,'muted',{get:function(){return window.vff._playerStatus.muted}}),l.play=function(){(0,o.send)('vff-play')},l.pause=function(){(0,o.send)('vff-pause')},l.goTo=function(){(0,o.send)('taco-go',{})},l.onTimeUpdate=function(e){(0,a.on)(n.VIDEO_TIME_UPDATE,e)},e.exports={api:l}},function(e,t,r){'use strict';var o=r(3);e.exports={get:function(e,t){var r=(0,o.defer)(),a=new XMLHttpRequest;return a.onreadystatechange=function(){4==a.readyState&&(200==a.status?(t&&t(a.responseText),r.resolve(a.responseText)):r.reject(a.status))},a.open('GET',e,!0),a.send(null),r.promise}}},function(e){'use strict';(function(){var t=0,r=!1,o=!1;try{var a=Object.defineProperty({},'passive',{get:function(){o=!0}});window.addEventListener('test',null,a)}catch(t){}var n=function(e){var r=e.target,o=window.innerWidth/window.document.documentElement.clientWidth;if(!(1<e.touches.length||1!=o)){for(;r!==document.body&&r!==document;){var a=window.getComputedStyle(r);if(!a)break;if('INPUT'===r.nodeName&&'range'===r.getAttribute('type'))return;var n=a.getPropertyValue('overflow-y'),l=parseInt(a.getPropertyValue('height'),10),s=r.scrollHeight>r.offsetHeight;if(('auto'===n||'scroll'===n)&&s){var i=e.touches?e.touches[0].screenY:e.screenY,d=t<=i&&0===r.scrollTop,u=t>=i&&r.scrollHeight-r.scrollTop===l;return void((d||u)&&e.preventDefault())}r=r.parentNode}e.preventDefault()}},l=function(e){t=e.touches?e.touches[0].screenY:e.screenY},s=function(){u&&(window.addEventListener('touchstart',l,!!o&&{passive:!1}),window.addEventListener('touchmove',n,!!o&&{passive:!1}),r=!0)},i=function(){return r},d=document.createElement('div');document.documentElement.appendChild(d),d.style.WebkitOverflowScrolling='touch';var u='getComputedStyle'in window&&'touch'===window.getComputedStyle(d)['-webkit-overflow-scrolling'];document.documentElement.removeChild(d);'undefined'!=typeof e&&e.exports&&(e.exports={enable:s,disable:function(){window.removeEventListener('touchstart',l,!1),window.removeEventListener('touchmove',n,!1),r=!1},isEnabled:i})})()},function(e,t,r){'use strict';function o(){var e=window.innerWidth>window.innerHeight?'landscape':'portrait',t=window.screen.orientation&&0<=window.screen.orientation.type.indexOf('portrait')||'portrait'===e?'Portrait':'Landscape';return t}function a(){var e='';try{e=window.vff._playerStatus['overlaySizing'+(n.isMobile?o():'')]}catch(t){}Object.values(l).forEach(function(e){window.document.body.classList.remove(e)}),window.document.body.classList.add(l[e])}var n=r(3),l={fill:'vff-fill',fit:'vff-fit'};e.exports={init:function(){window.addEventListener('resize',function(){a()}),a()}}}])});